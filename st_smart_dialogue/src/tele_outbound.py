import streamlit as st
import pandas as pd

default_samples = ["æ‚¨å¥½ï¼Œè¿™é‡Œæ˜¯æ­å·ä¸ŠåŸåŒºäººæ°‘æ³•é™¢ï¼Œè¯·é—®æ‚¨æ˜¯xxxå—ï¼Ÿ",
                   "",
                   "è¢«å‘Šäººxxxï¼Œæ‚¨å¥½ã€‚ç”±æ­å·ä¸ŠåŸåŒºäººæ°‘æ³•é™¢åšå‡ºçš„ã€‚åŸå‘Šxxxä¸æ‚¨æœªè¿˜é’±ä¸€æ¡ˆæ³•å¾‹æ–‡ä¹¦å·²å‘ç”Ÿæ³•å¾‹æ•ˆåŠ›ã€‚è¯·é—®æ‚¨æ˜¯å¦å·²ç»å±¥è¡Œ",
                   "",
                   "æ‚¨æ³¨æ„ï¼Œé€¾æœŸä¸å±¥è¡Œï¼Œç”³è¯·äººå‘¨æ°¸å¼ºæœ‰æƒç”³è¯·å¼ºåˆ¶æ‰§è¡Œã€‚å¯¹äºè§„é¿æ‰§è¡Œçš„ï¼Œæ ¹æ®æƒ…èŠ‚è½»é‡ï¼Œäºˆä»¥ç½šæ¬¾æ‹˜ç•™ï¼›æ„æˆæ‹’æ‰§ç½ªçš„ï¼Œä¾æ³•è¿½ç©¶åˆ‘äº‹è´£ä»»ã€‚è¯·é—®æ‚¨æ˜¯å¦å·²ç»çŸ¥æ™“",
                   "",
                   "å¥½çš„å†è§",
                   ""]
default_answers = ["",
                   "å¯¹å•Šæ˜¯æˆ‘æ€ä¹ˆäº†",
                   "",
                   "å¥½åƒæ²¡æœ‰æš‚æ—¶æ²¡ç©º",
                   "",
                   "å¥½æˆ‘çŸ¥é“äº†",
                   "",
                   "å†è§å˜›"]

default_samples_2 = ["æ‚¨å¥½ï¼Œè¿™é‡Œæ˜¯æ­å·ä¸ŠåŸåŒºäººæ°‘æ³•é™¢ï¼Œè¯·é—®æ‚¨æ˜¯xxxå—ï¼Ÿ",
                     "",
                     "è¢«å‘Šäººxxxï¼Œæ‚¨å¥½ã€‚ç”±æ­å·ä¸ŠåŸåŒºäººæ°‘æ³•é™¢åšå‡ºçš„ã€‚åŸå‘Šxxxä¸æ‚¨æœªè¿˜é’±ä¸€æ¡ˆæ³•å¾‹æ–‡ä¹¦å·²å‘ç”Ÿæ³•å¾‹æ•ˆåŠ›ã€‚è¯·é—®æ‚¨æ˜¯å¦å·²ç»å±¥è¡Œ",
                     "",
                     "è¢«å‘Šäººxxxï¼Œæ‚¨å¥½ã€‚ç”±æ­å·ä¸ŠåŸåŒºäººæ°‘æ³•é™¢åšå‡ºçš„ã€‚åŸå‘Šxxxä¸æ‚¨æœªè¿˜é’±ä¸€æ¡ˆæ³•å¾‹æ–‡ä¹¦å·²å‘ç”Ÿæ³•å¾‹æ•ˆåŠ›ã€‚è¯·é—®æ‚¨æ˜¯å¦å·²ç»å±¥è¡Œ",
                     "",
                     "å¥½çš„å†è§",
                     ""]
default_answers_2 = ["",
                     "æ˜¯æˆ‘",
                     "",
                     "ä»€ä¹ˆä¸œè¥¿æˆ‘å¬ä¸æ¸…",
                     "",
                     "å“¦å“¦å±¥è¡Œäº†å·²ç»å¼„äº†",
                     "",
                     "å—¯"]

def tele_outbound():
    # ===============
    # æ¦‚è¿°
    # ===============
    st.header("â™Ÿ æ¦‚è¿° â™Ÿ")
    st.markdown(">**å¸æ³•å¤–å‘¼**")
    st.markdown(">æ˜¯æ–¹ä¾¿æ³•é™¢æé†’ç‰¹å®šç›®æ ‡äººç›¸å…³æ¡ˆä»¶çš„å±¥è¡ŒèŒè´£è¿›åº¦çš„ä¸€é¡¹èƒ½åŠ›")
    st.markdown(">èƒ½åŠ›å¯¹æ¥å·¥å•ç³»ç»Ÿï¼Œå®šæ—¶å‘é€æé†’ç”µè¯æˆ–çŸ­ä¿¡ç­‰")

    # ===============
    # æ ·ä¾‹ä½“éªŒ
    # ===============
    st.header("â™Ÿ æ ·ä¾‹ä½“éªŒ â™Ÿ")

    if st.checkbox("ğŸ„ ç‚¹å‡»æŸ¥çœ‹æ ·ä¾‹å¯¹è¯ 1"):
        chat1 = dict(Bot = default_samples,
                     User = default_answers)

        st.table(chat1)

    if st.checkbox("ğŸ„ ç‚¹å‡»æŸ¥çœ‹æ ·ä¾‹å¯¹è¯ 2"):
        chat2 = dict(Bot = default_samples_2,
                     User = default_answers_2)

        st.table(chat2)

    # ===============
    # API æ¥å£æ–‡æ¡£
    # ===============
    st.header("â™Ÿ API æ¥å£æ–‡æ¡£ â™Ÿ")
    if st.checkbox("æ¥å£æ–‡æ¡£"):
        st.write("æœåŠ¡é€šè¿‡ HTTP/POST è¿›è¡ŒæœåŠ¡è§£æè¯·æ±‚\n")

        option = st.selectbox("å…¥å‚/å‡ºå‚", ("å…¥å‚ JSON", "å‡ºå‚ JSON"))
        if option == "å…¥å‚ JSON":
            st.markdown("**è®¿é—®åœ°å€**")
            st.write("åœ¨è®¿é—®åœ°å€ä¸Šï¼Œä½¿ç”¨ä¸åŒçš„ session_id è¿›è¡Œæ¯ä¸ªç”¨æˆ·çš„å¯¹è¯æµç¨‹ç®¡ç†")
            st.markdown("```" + "http//$ip:$port/conversations/$session_id/respond""```")

            st.json({"q": "å¯¹å•Šæ˜¯æˆ‘æ€ä¹ˆäº†",
                     "customMessage": {}})

            st.write('\n')
            st.table(pd.DataFrame({
                "å±æ€§": ["sentence", "customMessage"],
                "ç±»å‹": ["String", "Any"],
                "è¯´æ˜": ["ç”¨æˆ·æ–‡æœ¬", "è‡ªå®šä¼ å…¥ä¿¡æ¯"]
            }))

        elif option == "å‡ºå‚ JSON":
            st.json({"text": "è¢«å‘Šäººxxxï¼Œæ‚¨å¥½",
                     "recipient_id": "123",
                     })

            st.write('\n')
            st.table(pd.DataFrame({
                "å±æ€§": ["text", "recipient_id"],
                "ç±»å‹": ["String", "String"],
                "è¯´æ˜": ["æœºå™¨å›è¯", "ç”¨æˆ·session_id"]
            }))

    # ===============
    # å®šåˆ¶éœ€æ±‚
    # ===============
    st.header("â™Ÿ å®šåˆ¶éœ€æ±‚ â™Ÿ")
    if st.checkbox("å®šåˆ¶éœ€æ±‚"):
        st.write("è¯¥èƒ½åŠ›æŒç»­ä¼˜åŒ–ä¸­\n")
        st.write("åŒæ—¶ä¹Ÿæ”¯æŒåœºæ™¯å®šåˆ¶åŒ–")

if __name__ == '__main__':
    tele_outbound()