import streamlit as st
import pandas as pd


def defraud():
    st.title("æ•æ„Ÿè¯è¿‡æ»¤")

    # ===============
    # æ¦‚è¿°
    # ===============
    st.header("â™Ÿ æ¦‚è¿° â™Ÿ")
    st.write("æ•æ„Ÿè¯è¿‡æ»¤æ˜¯ä¸€é¡¹æ£€æµ‹ç»™å®šæ–‡æœ¬ä¸­æ˜¯å¦å­˜åœ¨ç›®æ ‡æ•æ„Ÿè¯çš„èƒ½åŠ›")

    # ===============
    # æ ·ä¾‹ä½“éªŒ
    # ===============
    st.header("â™Ÿ æ ·ä¾‹ä½“éªŒ â™Ÿ")
    st.write("è¯¥æ ·ä¾‹å±•ç¤ºäº†æªæ”¯æš´åŠ¨ç›¸å…³çš„æ•æ„Ÿè¯è¿‡æ»¤")

    default_text = "åœ¨çº¿å‡ºå”®é›·ç®¡ç‚¸è¯å„ç§ç‚¸è¯é…æ–¹å¤§å…¨"

    default_answer = pd.DataFrame({
        "æ•æ„Ÿè¯": ["å‡ºå”®é›·ç®¡", "ç‚¸è¯", "å„ç§ç‚¸è¯é…æ–¹å¤§å…¨"],
        "å¼€å§‹ä½ç½®": [2, 6, 8],
        "ç»“æŸä½ç½®": [6, 8, 16]
    })

    if st.checkbox("ğŸ„ ç‚¹å‡»æŸ¥çœ‹æ–‡æœ¬"):
        st.markdown("```" + default_text + "```")

    if st.button("è§£æ"):
        st.success("è§£æå®Œæˆ")
        st.table(default_answer)


    # ===============
    # API æ¥å£æ–‡æ¡£
    # ===============
    st.header("â™Ÿ API æ¥å£æ–‡æ¡£ â™Ÿ")
    if st.checkbox("æ¥å£æ–‡æ¡£"):
        st.write("æœåŠ¡é€šè¿‡ HTTP/POST è¿›è¡ŒæœåŠ¡è§£æè¯·æ±‚\n")

        option = st.selectbox("å…¥å‚/å‡ºå‚", ("å…¥å‚ JSON", "å‡ºå‚ JSON"))
        if option == "å…¥å‚ JSON":
            st.json({"sentence": "åœ¨çº¿å‡ºå”®é›·ç®¡ç‚¸è¯å„ç§ç‚¸è¯é…æ–¹å¤§å…¨"})

            st.write('\n')
            st.table(pd.DataFrame({
                "å±æ€§": ["sentence"],
                "ç±»å‹": ["String"],
                "è¯´æ˜": ["å¾…è§£ææ–‡æœ¬"]
            }))

        elif option == "å‡ºå‚ JSON":
            st.json({"sentence": "åœ¨çº¿å‡ºå”®é›·ç®¡ç‚¸è¯å„ç§ç‚¸è¯é…æ–¹å¤§å…¨",
                     "defraud": [
                         {"word": 2,
                          "start": 6,
                          "end": "å‡ºå”®é›·ç®¡"},
                         {"word": 6,
                          "start": 8,
                          "end": "ç‚¸è¯"},
                         {"word": 8,
                          "start": 16,
                          "end": "å„ç§ç‚¸è¯é…æ–¹å¤§å…¨"}
                     ]})

            st.write('\n')
            st.write('ä»…éœ€è¦è¿”å›ç»“æœçš„ defraud å­—æ®µ')
            st.table(pd.DataFrame({
                "å±æ€§": ["word", "start", "end"],
                "ç±»å‹": ["String", "Int", "Int"],
                "è¯´æ˜": ["æ•æ„Ÿè¯", "å¼€å§‹ä½ç½®", "ç»“æŸä½ç½®"]
            }))

    # ===============
    # è‡ªå®šä¹‰çƒ­è¯è¯å…¸
    # ===============
    st.header("â™Ÿ çƒ­è¯è¯å…¸ â™Ÿ")
    if st.checkbox("çƒ­è¯è¯å…¸"):
        st.write("è¯¥èƒ½åŠ›æ”¯æŒåŠ¨æ€å¢åˆ æ•æ„Ÿè¯ä¾›æ¨¡å‹ä½¿ç”¨")

        st.markdown("```\n"
                    "åœ¨æŒ‡å®šé¢„æ–™åº“ä¸­æ·»åŠ è‡ªå®šä¹‰çš„ txt æ–‡ä»¶")

        st.write("å…¶ä¸­ txt ç¤ºä¾‹æ ¼å¼å¦‚ä¸‹")
        st.markdown("```\n"
                    "ç¡é…¸ç”˜æ²¹ç‚¸å¼¹åˆ¶ä½œ\n"
                    "TNTç‚¸å¼¹çš„åˆ¶ä½œ\n"
                    "```")


if __name__ == "__main__":
    defraud()