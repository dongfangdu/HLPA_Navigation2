import pandas as pd
import streamlit as st
from PIL import Image


def self_learning():
    st.title("è¦ç´ æå–è‡ªå­¦ä¹ ")

    # ================
    # æ¦‚è¿°
    # ================
    st.header("â™Ÿ æ¦‚è¿° â™Ÿ")
    st.markdown("æˆ‘ä»¬æä¾›äº†è¦ç´ æå–çš„è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œæ–¹ä¾¿åœ¨ `ä¸åŒåœºæ™¯` è¿›è¡Œ `ä¸“åè¯†åˆ«` \n")
    st.write("åŒæ—¶æˆ‘éƒ¨é—¨ä¹Ÿæ”¯æŒå„åœºæ™¯çš„å®šåˆ¶åŒ–\n")


    # ================
    # èƒ½åŠ›ä¼˜åŠ¿
    # ================
    st.header("â™Ÿ èƒ½åŠ›ä¼˜åŠ¿ â™Ÿ")
    st.markdown("é’ˆå¯¹ä¸­æ–‡çš„ `ä¼ ç»Ÿè¦ç´ æå–æ¨¡å‹` å­˜åœ¨ä¸€å®šçš„ä¸è¶³ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç‚¹")
    st.markdown("* ä¸ªæ€§åŒ–ä¸“åæ”¯æŒåº¦ä½ï¼Œéœ€å¤§é‡æ ‡æ³¨æ•°æ®")
    st.markdown("* éœ€ä¸“ä¸šäººå£«å‚ä¸ï¼Œé—¨æ§›è¾ƒé«˜")
    st.markdown("* åº”ç”¨å®æ—¶æ€§è¾ƒä½ï¼Œéé¢„æœŸç»“æœçš„å¯æ§æ€§ä½")
    st.markdown("* æ¨¡å‹çš„æ³›åŒ–æ€§éš¾ä»¥ä¿è¯")

    st.write("\n")
    st.write("___")
    st.markdown("æˆ‘å¸çš„è¦ç´ æå–èƒ½åŠ›å…·å¤‡çµæ´»çš„è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œä¸»è¦å…·å¤‡ä»¥ä¸‹ä¼˜åŠ¿")
    st.markdown("* æä¾›æ•°æ®ç®€å•")
    st.markdown("* å¤šæ¨¡å‹è‡ªæˆ‘è°ƒæ•´è®­ç»ƒæ‹©ä¼˜")
    st.markdown("* åœ¨çº¿æ¨¡å‹å­¦ä¹ ã€éªŒè¯å’Œä¸Šçº¿")
    st.markdown("* é…ç½®ç®€æ˜“")

    # ================
    # è‡ªå­¦ä¹ æµç¨‹
    # ================
    st.header("â™Ÿ è‡ªå­¦ä¹ æµç¨‹ â™Ÿ")

    st.subheader("ğŸ„ ä¸»è¦æµç¨‹")
    st.markdown("```ç”¨æˆ·ä¸Šä¼ è®­ç»ƒæ•°æ®ï¼Œå¹¶å¯åŠ¨è‡ªå­¦ä¹ æœåŠ¡ï¼Œèƒ½åŠ›å°†è¾“å‡ºæ¨¡å‹å¹¶å¯è¿›è¡ŒéªŒè¯å’Œä½¿ç”¨```")
    image_1 = Image.open("./img/self_learning_main.png")
    st.image(image_1, caption="è‡ªå­¦ä¹ ä¸»è¦æµç¨‹", width = 200)

    st.subheader("ğŸ„ è‡ªå­¦ä¹ æ¶æ„")
    st.markdown("```è‡ªå­¦ä¹ æ¡†æ¶å„å­èƒ½åŠ›å‡å¯è¿›è¡Œè‡ªç”±é…ç½®ï¼Œä½†æˆ‘ä»¬ç®€æ˜“ä½¿ç”¨é»˜è®¤é…ç½®```")
    image_2 = Image.open("./img/self_learning.png")
    st.image(image_2, caption="è‡ªå­¦ä¹ æ¶æ„", width = 700)

    # ===============
    # æ•°æ®æä¾›
    # ===============
    st.subheader("ğŸ„ æ•°æ®æä¾›")
    st.markdown("å¯¹äºéœ€è¦è¿›è¡Œè¦ç´ æå–è‡ªå­¦ä¹ çš„å®¢æˆ·ï¼Œæˆ‘ä»¬å»ºè®®å…¶æä¾›çš„æ•°æ®åŒ…æ‹¬")
    st.markdown("* å®šä¹‰çš„è¦ç´ ç±»åˆ«")
    st.markdown("* å„ç±»åˆ«ä¸‹çš„å…¸å‹è¯è¯å…¸")
    st.markdown("* åŒ…å«è¯å…¸è¯çš„å…¸å‹å¥ï¼Œæ¯ä¸ªè¯è‡³å°‘åœ¨2å¥è¯ä¸­å‡ºç°")

    # ===============
    # æ ·ä¾‹ä½“éªŒ
    # ===============
    st.header("â™Ÿ æ ·ä¾‹ä½“éªŒ â™Ÿ")
    st.warning("ä½“éªŒç¯å¢ƒä»…æ”¯æŒæ ·ä¾‹è§£æï¼Œæš‚ä¸å¼€æ”¾è‡ªå®šä¹‰è¾“å…¥ï¼Œè¯·ä¸Šä¼ è®­ç»ƒæ–‡æœ¬å†è¿›è¡Œæ¨¡å‹éªŒè¯")

    default_samples = pd.DataFrame(
        [
            ["fruit", "è‹¹æœ", "æˆ‘ä»Šå¤©ä¹°äº†1æ–¤è‹¹æœ"],
            ["fruit", "è‹¹æœ", "è‹¹æœä¸Šå¸‚çš„æ—¶é—´åˆ°äº†"],
            ["fruit", "é¦™è•‰", "è¿™é¦™è•‰å¤šå°‘é’±"],
            ["fruit", "é¦™è•‰", "é¦™è•‰å‘³çš„é…¸å¥¶"],
            ["fruit", "æ©˜å­", "ç”µå½±ä¸­æ©˜å­è±¡å¾æ­»äº¡"],
            ["fruit", "æ©˜å­", "æ©˜å­é¢œè‰²çš„çŒ«"],
        ],
        columns=["è¦ç´ ç±»åˆ«", "å…¸å‹è¯", "å…¸å‹å¥"],
    )

    default_query = "ç«é¾™æœçœŸå¥½åƒ"

    default_res = pd.DataFrame(
        {"è¦ç´ ": ["ç«é¾™æœ"], "æ ‡ç­¾": ["fruit"], "å¼€å§‹ä½ç½®": [0], "ç»“æŸä½ç½®": [3]}
    )

    if st.checkbox("ç‚¹å‡»æŸ¥çœ‹ä¸Šä¼ æ–‡æœ¬"):
        st.table(default_samples)

    if st.button("ğŸ„ ç‚¹å‡»ä¸Šä¼ è®­ç»ƒæ–‡æœ¬"):
        st.success("ä¸Šä¼ æˆåŠŸ")
        st.success("è®­ç»ƒå®Œæˆ")

    if st.button("ğŸ„ ç‚¹å‡»éªŒè¯æ¨¡å‹"):
        st.success("è§£æå®Œæˆ")
        st.markdown("éªŒè¯æ–‡æœ¬: ")
        st.markdown("```" + default_query + "```")
        st.table(default_res)

    # ===============
    # API æ¥å£æ–‡æ¡£
    # ===============
    st.header("â™Ÿ API æ¥å£æ–‡æ¡£ â™Ÿ")
    if st.checkbox("ç‚¹å‡»æŸ¥çœ‹ æ¥å£æ–‡æ¡£"):
        st.write("æœªå®Œæˆ\n")


if __name__ == "__main__":
    self_learning()
